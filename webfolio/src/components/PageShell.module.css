/* ===========================
   PageShell.module.css
   =========================== */

/* Contêiner externo: NÃO recorta */
.shell{
  position: relative;
  display: block;
  isolation: isolate;

  /* DESKTOP: mantém seu frame visual, mas sem travar a altura */
  width: calc(100vw - 104px);          /* 52px de cada lado */
  min-height: calc(100vh - 170px);     /* base visual */
  height: auto;                        /* cresce se precisar */
  margin: 85px auto;

  border-radius: 28px;
  background: transparent;
  overflow: visible;                   /* overlay pode “vazar” */
}

/* Variante sem “cartão creme” (para Sobre/Trabalhos/Contato) */
.cardNoBg{
  background: transparent !important;
  box-shadow: none !important;
  overflow: visible !important;   /* não recorta decorações (mãos etc.) */
}


/* Cartão interno: ESTE recorta (bordas arredondadas) */
.card{
  position: relative;
  width: 100%;
  height: auto;                        /* nada de scroll interno */
  min-height: inherit;                 /* segue a base da .shell */
  border-radius: inherit;
  background: var(--content-bg);
  overflow: hidden;                    /* recorte do conteúdo */
  box-shadow: 0 0 0 2px rgba(0,0,0,.08) inset;
  z-index: 1;
}

/* Área do conteúdo normal */
.content{
  width: 100%;
  height: auto;                        /* sem altura forçada */
  padding: 64px 56px 96px;
  border-radius: inherit;
  overflow: visible;                   /* sem scroll interno */
}

/* Camada por cima do cartão, que NÃO recorta */
.overlay{
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 2;
}

/* ===== Utilitários da overlay (Home) ===== */

/* PC centralizado “vazando” um pouco para fora do card */
.overlayItemCenter{
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: -12px;                       /* ajuste fino desktop */
  width: clamp(230px, 60vw, 360px);
  pointer-events: none;
  z-index: 2;
}
/* hover (desktop); no touch é neutralizado mais abaixo */
.overlayItemCenter:hover .layerHover{ opacity: 1; }

/* Texto vertical “PEDRO FERSI” (se usar overlay para isso) */
.overlayTextVertical{
  position: absolute;
  top: 50%;
  right: -6px;                         /* encosta sem esmagar */
  transform: translateY(-50%);
  writing-mode: vertical-rl;
  text-orientation: upright;           /* letras em pé */
  font-family: var(--font-heading, system-ui);
  font-weight: 800;
  letter-spacing: .05em;
  color: #2a2a2a;
  opacity: .95;
  font-size: clamp(24px, 8.2vh, 42px);
  line-height: 1;
  pointer-events: none;
  z-index: 0;                          /* atrás do PC */
}

/* ===============================
   Responsividade (MOBILE)
   =============================== */
@media (max-width: 768px){
  /* gutters laterais e respiro abaixo do marquee */
  .shell{
    width: calc(100% - 24px);
    height: auto;
    margin: calc(var(--header-height) + 12px) auto 16px;
    border-radius: 30px;
  }

  .card{
    height: auto;
    min-height: 70vh;                 /* sensação de “tela cheia” */
    border-radius: inherit;
  }

  .content{
    height: auto;
    padding:
      calc(18px + env(safe-area-inset-top))
      calc(16px + env(safe-area-inset-right))
      calc(22px + env(safe-area-inset-bottom))
      calc(16px + env(safe-area-inset-left));
    overflow: visible;
  }

  /* ↓ Só no mobile: PC centralizado; posicionamento e tamanho responsivos
     Mantém ~400px no 14 Pro Max (≈ 43dvh), mas adapta pros outros */
  .overlayItemCenter{
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: clamp(320px, 43dvh, 520px);     /* ~400px no 14PM; ajusta em telas menores/maiores */
    width:  clamp(300px, 88svw, 560px);     /* ocupa bem a largura útil em diferentes iPhones */
    z-index: 2;
  }

  /* ===== Crossfade por rolagem (apenas mobile) ===== */
  .overlayItemCenter img{
    position: absolute;
    inset: 0;
    width: 100%;
    height: auto;
    display: block;
    pointer-events: none;
  }
  /* var(--swap) vem do HomeOverlayMobile.tsx (0 → 1) */
  .overlayItemCenter .layerBase  { opacity: calc(1 - var(--swap, 0)); transition: opacity .18s linear; }
  .overlayItemCenter .layerHover { opacity: var(--swap, 0);           transition: opacity .18s linear; }

  /* em touch, ignore hover (mantém só o scroll) */
  .overlayItemCenter:hover .layerHover { opacity: var(--swap, 0) !important; }
}

/* Esconde o texto vertical no DESKTOP (se usar essa variação) */
@media (min-width: 768px){
  .overlayTextVertical{ display: none; }
}

/* Telefones mais BAIXOS (ex.: iPhone 12) — leve aproximação visual do 14PM */
@media (max-width: 768px) and (max-height: 740px){
  .overlayItemCenter{
    bottom: clamp(260px, 36dvh, 420px);
    width:  clamp(280px, 92svw, 540px);
  }
}

/* Telefones mais ALTOS (ex.: 13/14 Pro Max) — mantém proporção do seu design */
@media (max-width: 768px) and (min-height: 850px){
  .overlayItemCenter{
    bottom: clamp(360px, 46dvh, 580px);
    width:  clamp(320px, 90svw, 600px);
  }
}

/* Touch: fallback geral */
@media (hover: none){
  .overlayItemCenter:hover .layerHover{ opacity: var(--swap, 0) !important; }
}


